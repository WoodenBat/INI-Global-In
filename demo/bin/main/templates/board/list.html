<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê²Œì‹œê¸€ ëª©ë¡</title>
  <style>
    @font-face {
      font-family: 'Ownglyph_PDH1';
      src: url('/fonts/Ownglyph_PDH1.ttf') format('truetype');
    }

    body {
      font-family: 'Ownglyph_PDH1', sans-serif;
    }

    .btn-write {
      display: inline-block;
      font-size: 20px;;
      color: #000;
      margin-bottom: 20px;
    }

    .category-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .category-tags .tag-box {
      padding: 6px 18px;
      border-radius: 100px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .category-tags .tag {
      padding: 6px 18px;
      border-radius: 30px;
      font-size: 18px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease-in-out;
      color: #000;
    }

    .category-tags .tag.active {
      border: 3px solid #333;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      transform: scale(1.1);
    }

    /*ì¹´í…Œê³ ë¦¬ë¯¸ì¹œê±°*/
    .category-tags .tag-box.Java    { background-color: rgba(235, 179, 179, 0.6); }
    .category-tags .tag-box.DB      { background-color: rgba(255, 219, 141, 0.6); }
    .category-tags .tag-box.JSP     { background-color: rgba(255, 165, 109, 0.6); }
    .category-tags .tag-box.Spring  { background-color: rgba(167, 255, 167, 0.6); }
    .category-tags .tag-box.Python  { background-color: rgba(173, 216, 230, 0.6); }
    .category-tags .tag-box.ì¼ë³¸ì–´  { background-color: rgba(192, 109, 255, 0.6); }

    .search-box {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      margin-bottom: 20px;
    }

    .search-box input[type="text"] {
      padding: 6px;
      border-radius: 4px;
      border: 1px solid #ccc;
      width: 200px;
    }

    .search-box button {
      padding: 6px 12px;
      margin-left: 6px;
      border: none;
      background-color: #333;
      color: white;
      border-radius: 4px;
      cursor: pointer;
    }

    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0 16px;
    }

    thead tr {
      background-color: #e9eef5;
    }

    thead th {
      padding: 14px 10px;
      font-weight: 700;
      text-align: center;
    }

    tbody tr {
      background-color: rgba(217, 217, 217, 0.3);
      border: 1px solid #ccc;
      border-radius: 50px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      transition: background-color 0.2s ease;
    }

    tbody tr:hover {
      background-color: #f5faff;
    }

    tbody td {
      padding: 14px 10px;
      text-align: center;
      background-color: transparent;
      border: none;
    }
    
	  tbody td a {
	  color: #000;
	  
	}
	
	tbody td a:hover {
	  text-decoration: underline;
	}

    .pagination {
      text-align: center;
      margin-top: 24px;
    }

    .pagination a,
    .pagination span {
      display: inline-block;
      margin: 0 6px;
      padding: 6px 12px;
      color: #333;
      text-decoration: none;
      border-radius: 4px;
    }

    .pagination .current {
      font-weight: bold;
      color: #FF0000;
    }
  </style>
</head>

<th:block th:replace="board/header :: header"></th:block>

<body>

  <h1>ê²Œì‹œê¸€ ëª©ë¡</h1>

  <a href="/board/write" class="btn-write">ğŸ“ ê²Œì‹œê¸€ ì‘ì„±í•˜ê¸°</a>

  <!-- âœ… ì¹´í…Œê³ ë¦¬ í•„í„° -->
  <div class="category-tags">
    <div class="tag-box" th:classappend="${category == null or category == ''} ? 'active'">
      <a th:href="@{/board/list(keyword=${keyword})}" class="tag">ì „ì²´</a>
    </div>
    <div th:each="cat : ${categories}" class="tag-box" th:classappend="${cat}">
      <a th:href="@{/board/list(category=${cat}, keyword=${keyword})}" th:text="${cat}"
         th:class="${cat == category} ? 'tag active' : 'tag'"></a>
    </div>
  </div>

  <!-- ê²€ìƒ‰ -->
  <form class="search-box" th:action="@{/board/list}" method="get">
    <input type="text" name="keyword" th:value="${keyword}" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥" />
    <input type="hidden" name="category" th:value="${category}" />
    <button type="submit">ê²€ìƒ‰</button>
  </form>

  <!-- ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ -->
  <table>
    <thead>
      <tr>
        <th>ë²ˆí˜¸</th>
        <th>ë‹‰ë„¤ì„</th>
        <th>ì¹´í…Œê³ ë¦¬</th>
        <th>ë§ë¨¸ë¦¬</th>
        <th>ì œëª©</th>
        <th>ì‘ì„±ì¼</th>
        <th>ì¡°íšŒìˆ˜</th>
        <th>ì¢‹ì•„ìš”</th>
        <th>ëŒ“ê¸€</th>
      </tr>
    </thead>
    <tbody>
      <tr th:if="${#lists.isEmpty(boards)}">
        <td colspan="9">ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</td>
      </tr>
      <tr th:each="board, iterStat : ${boards}">
        <td th:text="${iterStat.index + 1 + (currentPage * pageSize)}"></td>
        <td th:text="${board.user_id}">ì‘ì„±ì</td>
        <td th:text="${board.board_category}">ì¹´í…Œê³ ë¦¬</td>
        <td th:text="${board.board_tag}">ë§ë¨¸ë¦¬</td>
        <td>
          <a th:href="@{'/board/' + ${board.board_id}}" th:text="${board.board_title}">ì œëª©</a>
        </td>
        <td th:text="${#dates.format(board.board_write_date, 'yyyy-MM-dd')}">ì‘ì„±ì¼</td>
        <td th:text="${board.board_views}">ì¡°íšŒìˆ˜</td>
        <td th:text="${board.likes != null ? board.likes : 0}">0</td>
        <td th:text="${board.comments != null ? board.comments : 0}">0</td>
      </tr>
    </tbody>
  </table>

  <!-- í˜ì´ì§• -->
  <div class="pagination" th:if="${totalCount > pageSize}">
    <span th:each="i : ${#numbers.sequence(0, (totalCount - 1) / pageSize)}">
      <a th:href="@{/board/list(page=${i}, size=${pageSize}, category=${category}, keyword=${keyword})}"
         th:class="${i == currentPage} ? 'current' : ''"
         th:text="${i + 1}">1</a>
    </span>
  </div>

</body>
</html>