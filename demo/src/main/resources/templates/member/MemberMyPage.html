<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>ë§ˆì´í˜ì´ì§€</title>
  <link rel="stylesheet" th:href="@{/css/myPage.css}" />
</head>
<body>
<button onclick="toggleDarkMode()">ğŸŒ™ ì•¼ê°„ ëª¨ë“œ</button>

<script>
  function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    const isDark = document.body.classList.contains('dark-mode');
    localStorage.setItem('darkMode', isDark);
  }

  // í˜ì´ì§€ ë¡œë“œì‹œ ìƒíƒœ ë³µì›
  window.onload = function () {
    const isDark = localStorage.getItem('darkMode') === 'true';
    if (isDark) document.body.classList.add('dark-mode');
  };
</script>
  <div class="profile_container">
    <a th:href="@{/member/memberProfileUpdateForm}">
      <!-- 1) ì—…ë¡œë“œëœ ì´ë¯¸ì§€ê°€ ìˆìœ¼ë©´ -->
      <img th:if="${member_info.user_profile_img != null}"
           th:src="@{/images/profile/{file}(file=${member_info.user_profile_img})}"
           class="profile_image" alt="í”„ë¡œí•„ ì‚¬ì§„"/>
      <!-- 2) ì—†ìœ¼ë©´ ê¸°ë³¸ì´ë¯¸ì§€ë¡œ -->
      <img th:if="${member_info.user_profile_img == null}"
           th:src="@{/images/default-profile.png}"
           class="profile_image" alt="ê¸°ë³¸ í”„ë¡œí•„"/>
    </a>
  </div>

  <div class="profile_update_button_container">
    <!-- ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í”„ë¡œí•„ ìˆ˜ì • í¼ìœ¼ë¡œ ì´ë™ -->
    <a th:href="@{/member/memberProfileUpdateForm}" class="profile_update_button">
      ë‚´ ì •ë³´ ìˆ˜ì •
    </a>
  </div>

  <div class="profile_nickname_container">
    <p class="profile_nickname" th:text="${member_info.user_nickname}"></p>
  </div>
<div class="profile_intro_container">
  <p class="profile_intro" th:text="${member_info.user_intro} ?: ' ì—†ìŠµë‹ˆë‹¤.'"></p>
</div>

  <div class="profile_email_container">
    <p class="profile_email" th:text="${member_info.user_email}"></p>
  </div>



  <h3>ë‚´ê°€ ì“´ ê¸€</h3>
  <table>
    <thead>
      <tr>
        <th>#</th><th>BOARD_ID</th><th>BOARD_TITLE</th><th>BOARD_CONTENT</th>
        <th>USER_ID</th><th>BOARD_VIEWS</th><th>BOARD_CATEGORY</th>
        <th>BOARD_WRITE_DATE</th><th>BOARD_UPDATE_DATE</th><th>BOARD_TAG</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="mb, stat : ${member_board}">                     
        <td th:text="${stat.index + 1}"></td>
        <td th:text="${mb.board_id}"></td>
        <td th:text="${mb.board_title}"></td>
        <td th:text="${mb.board_content}"></td>
        <td th:text="${mb.user_id}"></td>
        <td th:text="${mb.board_views}"></td>
        <td th:text="${mb.board_category}"></td>
        <td th:text="${mb.board_write_date}"></td>
        <td th:text="${mb.board_update_date}"></td>
        <td th:text="${mb.board_tag}"></td>
      </tr>
    </tbody>
  </table>

  <h3>ì¢‹ì•„ìš” ëˆ„ë¥¸ ê¸€ ëª©ë¡</h3>
  <table>
    <thead>
      <tr>
        <th>#</th><th>BOARD_ID</th><th>USER_ID</th><th>LIKE_STATUS</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="ml, stat : ${member_like}">
        <td th:text="${stat.index + 1}"></td>
        <td th:text="${ml.board_id}"></td>
        <td th:text="${ml.user_id}"></td>
        <td th:text="${ml.like_status}"></td>
      </tr>
    </tbody>
  </table>

  <h3>ì‘ì„±ëŒ“ê¸€ ëª©ë¡</h3>
  <table>
    <thead>
      <tr>
        <th>#</th><th>REPLY_ID</th><th>REPLY_CONTENT</th><th>REPLY_WRITER</th>
        <th>REPLY_WRITE_DATE</th><th>REPLY_UPDATE_DATE</th><th>REPLY_STATUS</th><th>BOARD_ID</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="mr, stat : ${member_reply}">
        <td th:text="${stat.index + 1}"></td>
        <td th:text="${mr.reply_id}"></td>
        <td th:text="${mr.reply_content}"></td>
        <td th:text="${mr.reply_writer}"></td>
        <td th:text="${mr.reply_write_date}"></td>
        <td th:text="${mr.reply_update_date}"></td>
        <td th:text="${mr.reply_status}"></td>
        <td th:text="${mr.board_id}"></td>
      </tr>
    </tbody>
  </table>

  <h3>íŒ”ë¡œìš° í•œ ìœ ì €</h3>
  <table>
    <thead>
      <tr>
        <th>#</th><th>FOLLOWER_ID</th><th>USER_ID</th><th>FOLLOW_DATE</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="mf, stat : ${member_follow}">
        <td th:text="${stat.index + 1}"></td>
        <td th:text="${mf.follower_id}"></td>
        <td th:text="${mf.user_id}"></td>
        <td th:text="${mf.follow_date}"></td>
      </tr>
    </tbody>
  </table>

  <h3>ì°œí•œ ê¸€</h3>
  <table>
    <thead>
      <tr>
        <th>#</th><th>BOARD_ID</th><th>USER_ID</th><th>FAVORITE_DATE</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="mf, stat : ${member_favorite}">
        <td th:text="${stat.index + 1}"></td>
        <td th:text="${mf.board_id}"></td>
        <td th:text="${mf.user_id}"></td>
        <td th:text="${mf.favorite_date}"></td>
      </tr>
    </tbody>
  </table>

</body>
</html>